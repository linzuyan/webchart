#set($layout =  "share/hi-layout.vm" )
<script type="text/javascript" src="$!{request.getContextPath()}/resource/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="$!{request.getContextPath()}/resource/lib/layer/2.1/layer.js"></script>
<script type="text/javascript" src="$!{request.getContextPath()}/resource/lib/My97DatePicker/WdatePicker.js"></script>
<script type="text/javascript" src="$!{request.getContextPath()}/resource/js/h-ui/H-ui.js"></script>
<script type="text/javascript" src="$!{request.getContextPath()}/resource/js/h-ui/H-ui.admin.js"></script>
<script type="text/javascript" src="$!{request.getContextPath()}/resource/lib1/bootstrap-modal.js"></script>
<script type="text/javascript">
    function sub() {
        alert( $('#form1').serialize());
        jQuery.ajax({
            url: '$!{request.getContextPath()}/project/ServerListScript',
            data: jQuery('#form1').serialize(),
            /*data:1,*/
            type: "post",
            success: function (data) {
                if (data.code > 0) {
                    alert("成功！");
                    /*location.href = "/Member/index";*/
                    document.getElementById("scriptLog").innerHTML = data.msg;
                }
                else {
                    alert(data.msg);
                }
            }

        })
    }
    function subgyl() {
        jQuery.ajax({
            url: '$!{request.getContextPath()}/project/gylOnline',
            data: jQuery('#form1').serialize(),
            /*data:1,*/
            type: "post",
            success: function (data) {
                if (data.code > 0) {
                    alert("成功！");
                    /*location.href = "/Member/index";*/
                    alert(data.msg);
                    document.getElementById("scriptLog").innerHTML = data.msg;

                }
                else {
                    alert(data.msg);
                }
            }

        })

    }
    function resetgyl() {
        document.getElementById("scriptLog").innerHTML = null;
    }
</script>
<form id="form1" style="margin-bottom: 80px">
    <fieldset style="margin: 0 auto">
        #*<label>头像</label>
        <img id="tx" src="/pic/tx.png" class="img-rounded">
        <input type="hidden" id="imgurl" name="imgurl" value="">*#
        <span class="help-block"></span>
        <label>服务器ip地址</label>
        <input type="text" name="Ip" id="Ip" value="" placeholder="">
        <label>服务器执行用户</label>
        <input type="text" name="UserName" id="UserName" value="" placeholder="">

        <label>服务器密码</label>
        <input type="text" name="PassWd" id="PsaaWd" value="" placeholder="">

        <label>脚本路径</label>
        <input type="text" name="ScriptPath" id="ScriptPath" value="" placeholder="">

         <label>脚本参数one</label>
          <input type="text" name="ParameterOne" id="ParameterOne" value="" placeholder="">
         <label>脚本参数two</label>
         <input type="text" name="ParameterTwo" id="ParameterTwo" value="" placeholder="">

        <button type="button" onclick="resub();" class="btn">取消</button>
        <button type="button" onclick="sub();" class="btn">执行脚本</button>
    </fieldset>
</form>

<h1 style="text-align: center;margin-top: 80px">线上供应链发布</h1>
<div style="margin-left: 650px;margin-top: 30px">
<button onclick="subgyl();"  class="btn btn-large btn-primary">线上供应链发布</button>
<button onclick="resetgyl();"  class="btn btn-large btn-large" style="margin-left: 190px">清除日志</button>
</div>
<div style="margin: 25px 0px 0px 310px">
    <textarea rows="90" cols="200" id="scriptLog" readonly="false" style="border: hidden">
    </textarea>
</div>



